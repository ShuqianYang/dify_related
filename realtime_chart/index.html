<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <!-- ========== 页面基础配置 ========== -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>珍稀动物实时分析系统 v3.1</title>
    
    <!-- 强制刷新缓存 -->
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    
    <!-- 引用外部CSS样式文件 -->
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- ========== 主容器 ========== -->
    <!-- 包含整个页面的所有内容，提供统一的样式和布局 -->
    <div class="container">
        <!-- ========== 页面头部 ========== -->
        <!-- 显示页面标题和描述信息 -->
        <div class="header">
            <h1>🔵 珍稀动物实时分析系统</h1>
            <p>中国卫通集团股份有限公司</p>
        </div>

        <!-- ========== 控制面板 ========== -->
        <!-- 提供图表控制功能，包括启动/停止实时更新和手动刷新 -->
        <div class="controls">
            <!-- 开始实时更新按钮 -->
            <button class="btn btn-success" onclick="startRealTimeUpdate()">
                ▶️ 开始实时更新
            </button>
            
            <!-- 停止实时更新按钮 -->
            <button class="btn btn-danger" onclick="stopRealTimeUpdate()">
                ⏹️ 停止实时更新
            </button>
            
            <!-- 手动刷新数据按钮 -->
            <button class="btn btn-primary" onclick="refreshAllCharts()">
                🔄 刷新数据
            </button>
            
            <!-- 实时更新状态指示器 -->
            <div class="status stopped" id="updateStatus">
                <div class="status-indicator"></div>
                <span>实时更新已停止</span>
            </div>
        </div>

        <!-- ========== 图表展示区域 ========== -->
        <!-- 使用网格布局展示三个核心图表，支持响应式设计 -->
        <div class="charts-grid">
            <!-- ========== 图表1：按日期统计的图像识别数量变化趋势 ========== -->
            <div class="chart-container">
                <div class="chart-title">📈 按日期统计的图像识别数量变化趋势</div>
                <div class="chart-filter">
                    <label for="timeseriesAnimalFilter">筛选动物种类：</label>
                    <select id="timeseriesAnimalFilter" onchange="onTimeseriesFilterChange()">
                        <option value="all">所有动物</option>
                    </select>
                </div>
                <div id="timeseriesChart" class="chart"></div>
            </div>

            <!-- ========== 图表2：不同动物种类的识别数量分布情况 ========== -->
            <div class="chart-container">
                <div class="chart-title">🦁 不同动物种类的识别数量分布情况</div>
                <div class="chart-filter">
                    <label for="animalTimeFilter">时间范围：</label>
                    <select id="animalTimeFilter" onchange="onAnimalTimeFilterChange()">
                        <option value="" selected>所有时间</option>
                        <option value="1">最近1天</option>
                        <option value="7">最近7天</option>
                        <option value="30">最近30天</option>
                        <option value="180">最近6个月</option>
                        <option value="365">最近1年</option>
                    </select>
                </div>
                <div id="animalChart" class="chart"></div>
            </div>

            <!-- ========== 图表3：不同地理位置动物识别数量分布情况 ========== -->
            <div class="chart-container">
                <div class="chart-title">🌍 不同地理位置动物识别数量分布情况</div>
                <div class="chart-filter">
                    <label for="locationAnimalFilter">筛选动物种类：</label>
                    <select id="locationAnimalFilter" onchange="onLocationFilterChange()">
                        <option value="all">所有动物</option>
                    </select>
                </div>
                <div id="locationChart" class="chart"></div>
            </div>

            <!-- ========== 图表4：动物活动时间分布图 ========== -->
            <div class="chart-container">
                <div class="chart-title">🕐 动物活动时间分布图</div>
                <div class="chart-filter">
                    <label for="activityAnimalFilter">筛选动物种类：</label>
                    <select id="activityAnimalFilter" onchange="onActivityFilterChange()">
                        <option value="all">所有动物</option>
                    </select>
                </div>
                <div id="activityChart" class="chart"></div>
            </div>
        </div>
    </div>

    <!-- 引用外部JavaScript功能文件 -->
    <script src="script.js"></script>
</body>
</html>